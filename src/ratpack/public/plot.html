<!DOCCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="js/lib/d3.min.js" type="text/javascript"></script>
        <script src="js/lib/moment.js" type="text/javascript"></script>
        <script src="js/lib/handlebars.js" type="text/javascript"></script>
        <script src="js/lib/jquery.js" type="text/javascript"></script>
        <script src="js/util.js" type="text/javascript"></script>
        <script src="js/map.js" type="text/javascript"></script>
        <script src="plot.js" type="text/javascript"></script>
        <script src="https://maps.google.com/maps/api/js?libraries=geometry&amp;sensor=false"type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="style.css"/>
    </head>
    <body>
        <script id="tooltip-template" type="text/x-handlebars-template">
<h4><a href="https://www.strava.com/activities/{{id}}">{{name}}</a></h4>
            <dl>
                <dt>Distance</dt><dd>{{distance}}</dd></dt>
                <dt>Moving Time</dt><dd>{{movingTime}}</dd></dt>
                <dt>Average Speed</dt><dd>{{averageSpeed}}</dd></dt>
                <dt>Average Heartrate</dt><dd>{{averageHeartrate}}</dd></dt>
            </dl>
        </script>
        <div id="tooltip" class="info-box tooltip"></div>
        <div id="map" class="info-box map"></div>
        <div class="info-box footer">
            Source code is available on <a href="https://github.com/HelgeKrueger/strava-plots">Github</a>.
        </div>
        <div class="choices">
            <button onclick="doPlot('distance', 'movingTime', 1, 1)">Rides/Runs distance/movingTime</a><br/>
            <button onclick="doPlot('distance', 'speed', 1, 0)">Rides distance/speed</a><br/>
            <button onclick="doPlot('speed', 'heartrate', 1, 0)">Rides speed/heartrate</a><br/>
            <button onclick="doPlot('distance', 'speed', 0, 1)">Runs distance/speed</a><br/>
            <button onclick="doPlot('speed', 'heartrate', 0, 1)">Runs speed/heartrate</a><br/>
        </div>
        <script type="text/javascript">
            var json = null;

            $.getJSON('/data', function(data) {
                json = data;
                doPlot('distance', 'movingTime', 1, 1);
            });
        </script>
    </body>
</html>
