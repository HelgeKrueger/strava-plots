<!DOCCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="d3.min.js" type="text/javascript"></script>
        <script src="plot.js" type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="style.css"/>
    </head>
    <body>
        <script type="text/javascript">
            var graph = new GraphBuilder()
                .withDimensions(800, 500)
                .withXValue(function (d) { return d.distance; })
                .withYValue(function (d) { return d.movingTime; })
                .withXTickFormat(function(n) { return n / 1000; })
                .withYTickFormat(function(t) { return d3.time.format('%H:%M')(new Date(t * 1000)); })
                .build();
            var svg = graph.addSvgToBody();
            d3.json('/data', function(error, json) {
                graph.configureDomain(json.rides, json.runs);
                graph.addAxes(svg);
                graph.addData(svg, json.rides, 'ride');
                graph.addData(svg, json.runs, 'run');
            });
        </script>
    </body>
</html>
